---

file:
  {{ nomad_bin_path }}:
  
    owner: {{ nomad_user }}
    group: {{ nomad_group }}
    
    exists: true
    filetype: directory

# port:
# # Check port at IPv6
# # https://github.com/aelsabbahy/goss/issues/177
#   tcp6:{{ nomad_port }}:
#     listening: true
#     ip:
#     - '::'

service:
  nomad:
    enabled: true
    running: true 
process:
  {{ nomad_exec_name }}:
    running: true
user:
  {{ nomad_user }}:
    exists: true
    groups:
      - {{ nomad_group }}
    shell: /usr/sbin/nologin
group:
  {{ nomad_group }}:
    exists: true
